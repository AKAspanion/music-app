{"version":3,"sources":["components/visualizer/index.tsx","components/empty/index.tsx","components/button/index.tsx","utils/index.ts","components/slider/index.tsx","components/header/index.tsx","hooks/useResize.ts","hooks/useDuration.ts","redux/types/index.ts","redux/actions/index.ts","redux/index.ts","redux/reducers/app.ts","redux/reducers/song.ts","redux/reducers/settings.ts","redux/reducers/playState.ts","services/audio-session.ts","assets/logo512.png","components/input/index.tsx","views/home/index.tsx","views/menu/index.tsx","services/vibrate.ts","views/track/index.tsx","views/playlist/index.tsx","views/now-playing/index.tsx","app/index.tsx","reportWebVitals.ts","serviceWorkerRegistration.ts","services/data-store.ts","index.tsx"],"names":["atx","source","animationFrameRequestId","Empty","icon","message","description","className","size","Button","active","onClick","children","style","getTime","time","Date","toISOString","substr","prevDeg","Slider","value","audio","onChange","onTouch","onTouchEnd","isTouchDevice","window","navigator","maxTouchPoints","msMaxTouchPoints","dialRef","useRef","rangeRef","blockerRef","useState","canSlide","setCanSlide","onSliderInit","e","preventDefault","onSliderStop","onSliderMove","position","pos","x","y","type","touch","changedTouches","pageX","pageY","getPosition","rangeDimensions","current","getBoundingClientRect","bodyDimensions","document","body","coords","radius","width","atan","Math","atan2","deg","ceil","PI","normalizedDeg","points","getPointsFromDeg","abs","useLayoutEffect","dial","blocker","diff","floor","sin","cos","transform","updateSlider","ref","onMouseUp","onMouseMove","onTouchMove","onMouseDown","onTouchStart","min","max","tabIndex","currentTime","duration","Header","title","leftIcon","rightIcon","onLeftIconClick","onRightIconClick","Visualizer","playing","onError","short","app","view","useSelector","state","settings","canvasRef","stop","cancelAnimationFrame","undefined","appColor","light","normalColor","fillValue","ctx","getContext","AudioContext","analyser","createAnalyser","fftSize","createMediaElementSource","connect","destination","WIDTH","HEIGHT","bufferLength","frequencyBinCount","dataArray","Uint8Array","clearRect","color","c","random","loop","start","draw","requestAnimationFrame","getByteTimeDomainData","fillStyle","fillRect","lineWidth","beginPath","sliceWidth","i","strokeStyle","moveTo","lineTo","stroke","error","visualize","visibility","height","useResize","setSize","node","setNode","observer","disconnect","useCallback","observe","ResizeObserver","contentRect","useMemo","useDuration","songs","setDuration","useEffect","a","data","durationPromises","map","song","createElement","src","URL","createObjectURL","Promise","resolve","addEventListener","name","all","forEach","d","T_ADD_SONGS","T_REMOVE_SONGS","T_PLAY_SONG","T_PAUSE_SONG","T_RESUME_SONG","T_SET_GRID","T_SET_THEME","T_SET_REPEAT","T_SET_VISUALIZER","T_SET_VIEW","PLAY_SONG","index","SET_VIEW","reducers","combineReducers","action","filter","self","findIndex","s","_","visualizer","repeat","grid","playState","Navigator","isMediaSessionSupported","AudioSession","audioEl","mediaSession","setPositionState","playbackRate","addNewSong","callbacks","next","prev","play","pause","getMetadata","meta","tags","year","artist","album","picture","getPicture","metadata","MediaMetadata","artwork","sizes","setActionHandler","console","jsmediatags","read","onSuccess","tag","log","format","STRING_CHAR","reduce","byte","String","fromCharCode","base64String","btoa","Input","placeholder","inFocus","setFocus","trim","onFocus","onBlur","target","Home","onSearch","showSearch","playlist","Menu","show","onClose","dispatch","useDispatch","menuMeta","id","key","isVibrateSupported","Vibrate","do","vibrate","Track","range","onNext","onPrev","onPlay","onPause","onShuffle","setMeta","scroll","client","setWidth","titleRef","split","songTitle","handleRepeat","one","none","handleClick","callback","scrollWidth","clientWidth","v","alt","Playlist","onDelete","filteredSongs","getDuration","isSelected","toLowerCase","getIndex","flexGrow","NowPlaying","percent","open","Number","App","prevPlayState","input","setRange","showMenu","setShowMenu","searchText","setSearchText","darkTheme","lightTheme","themeObject","root","querySelector","themeVariables","Object","keys","themeVar","varValue","startsWith","setProperty","setTheme","includes","isSongsThere","length","audioPlayer","trace","htmlAudio","nextSong","prevSong","resumeSong","pauseSong","override","goNext","setTimeout","prevIndex","deleteSong","DELETE_SONG","JSON","stringify","click","isNaN","timeDrag","hidden","multiple","accept","ADD_SONGS","files","controls","onEnded","onTimeUpdate","round","updateTime","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","isLocalhost","Boolean","location","hostname","match","registerValidSW","swUrl","config","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","onUpdate","catch","localforage","storeName","DataStore","set","setItem","get","getItem","delete","removeItem","WINDOW","localStore","store","createStore","__REDUX_DEVTOOLS_EXTENSION__","subscribe","getState","ReactDOM","render","StrictMode","getElementById","process","href","origin","fetch","headers","response","contentType","status","indexOf","ready","unregister","reload","checkValidServiceWorker","serviceWorkerRegistration"],"mappings":"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","file":"static/js/main.c6d69a58.chunk.js","sourcesContent":["import { useRef, useLayoutEffect } from 'react';\nimport { useSelector } from 'react-redux';\n\ntype VisualizerProps = {\n  audio: HTMLAudioElement;\n  onError?: Function;\n  className?: string;\n  playing: boolean;\n  width?: number;\n  short?: number;\n  app?: boolean;\n};\n\nlet atx: AudioContext | undefined;\nlet source: MediaElementAudioSourceNode | undefined;\nlet animationFrameRequestId: number | undefined;\nconst Visualizer = ({\n  audio,\n  playing,\n  onError,\n  short = 2,\n  width = 400,\n  app = false,\n  className = '',\n}: VisualizerProps) => {\n  const { view } = useSelector((state: any) => state.app);\n  const settings = useSelector((state: any) => state.settings);\n\n  const canvasRef = useRef(null);\n\n  const canvasWidth = () => (width > 700 ? 700 : width);\n\n  const canvasHeight = () => 300;\n\n  const visualize = (fillValue: string) => {\n    try {\n      const ca: any = canvasRef.current!;\n      const ctx: CanvasRenderingContext2D = ca.getContext('2d');\n\n      if (atx === undefined) {\n        atx = new AudioContext();\n      }\n      const analyser: AnalyserNode = atx.createAnalyser();\n\n      analyser.fftSize = 2048;\n\n      if (source === undefined) {\n        source = atx.createMediaElementSource(audio);\n      }\n\n      source.connect(analyser);\n\n      source.connect(atx.destination);\n\n      const WIDTH = 700;\n      const HEIGHT = 300;\n\n      analyser.fftSize = 2048;\n      var bufferLength = analyser.frequencyBinCount; // half the FFT value\n      var dataArray = new Uint8Array(bufferLength); // create an array to store the data\n\n      ctx.clearRect(0, 0, WIDTH, HEIGHT);\n\n      const color = () => {\n        var c = () => Math.random() * 255;\n\n        return `rgb(${c()},${c()},${c()})`;\n      };\n\n      const loop = () => {\n        animationFrameRequestId = undefined;\n\n        start();\n        draw();\n      };\n\n      const start = () => {\n        if (!animationFrameRequestId) {\n          animationFrameRequestId = requestAnimationFrame(loop);\n        }\n      };\n\n      const draw = () => {\n        analyser.getByteTimeDomainData(dataArray); // get waveform data and put it into the array created above\n\n        ctx.fillStyle = fillValue ?? '#36395E'; // draw wave with canvas\n        ctx.fillRect(0, 0, WIDTH, HEIGHT);\n\n        ctx.lineWidth = 2;\n\n        ctx.beginPath();\n\n        var sliceWidth = (WIDTH * 1.0) / bufferLength;\n        var x = 0;\n\n        for (var i = 0; i < bufferLength; i++) {\n          var v = dataArray[i] / 128.0;\n          var y = (v * HEIGHT) / short;\n\n          ctx.strokeStyle = color();\n\n          if (i === 0) {\n            ctx.moveTo(x, y);\n          } else {\n            ctx.lineTo(x, y);\n          }\n\n          x += sliceWidth;\n        }\n\n        ctx.lineTo(WIDTH, HEIGHT / 2);\n        ctx.stroke();\n      };\n\n      start();\n    } catch (error) {\n      onError && onError(error);\n    }\n  };\n\n  useLayoutEffect(() => {\n    const stop = () => {\n      if (animationFrameRequestId) {\n        cancelAnimationFrame(animationFrameRequestId);\n        animationFrameRequestId = undefined;\n      }\n    };\n\n    if (audio) {\n      const appColor = settings.light ? '#EDEEF4' : '#191C2D';\n      const normalColor = settings.light ? '#BBBED9' : '#36395E';\n\n      if (playing) {\n        visualize(app ? appColor : normalColor);\n      } else {\n        stop();\n      }\n    }\n\n    return () => stop();\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [audio, playing, settings.light, app, view]);\n\n  return (\n    <canvas\n      style={{ visibility: playing ? 'visible' : 'hidden' }}\n      height={canvasHeight()}\n      width={canvasWidth()}\n      className={className}\n      ref={canvasRef}\n    ></canvas>\n  );\n};\nexport default Visualizer;\n","import { FaExclamationTriangle } from 'react-icons/fa';\n\nimport './styles.css';\n\ntype EmptyProps = {\n  icon?: any;\n  message?: string;\n  description?: string;\n};\n\nconst Empty = ({\n  icon,\n  message = 'Nothing found',\n  description = 'Please do something to remove this',\n}: EmptyProps) => {\n  return (\n    <div className=\"empty\">\n      <div className=\"empty__img\">\n        {icon || <FaExclamationTriangle size={120} />}\n      </div>\n      <div className=\"empty__message\">{message}</div>\n      <div className=\"empty__description\">{description}</div>\n    </div>\n  );\n};\n\nexport default Empty;\n","import './styles.css';\n\ntype ButtonProps = {\n  size?: number;\n  active?: boolean;\n  onClick?: Function;\n  children?: React.ReactNode;\n};\n\nconst Button = ({ size = 48, active, onClick, children }: ButtonProps) => {\n  return (\n    <button\n      style={{ '--button-size': `${size}px` } as any}\n      className={`button__wrapper ${active ? 'button__wrapper--active' : ''}`}\n      onClick={() => onClick && onClick()}\n    >\n      <div className=\"button__content\">{children}</div>\n    </button>\n  );\n};\n\nexport default Button;\n","export const setTheme = (light: boolean = false) => {\n  const darkTheme: any = {\n    '--padding': '24px',\n\n    '--bg-color': '#191b2d',\n    '--bg-color-accent': '#35395f',\n    '--bg-color-accent-2': '#20233a',\n    '--bg-color-secondary': '#4a5085',\n\n    '--color-primary': 'rgba(255, 255, 255, 1)',\n    '--color-secondary': 'rgba(255, 255, 255, 0.78)',\n    '--color-disabled': 'rgba(255, 255, 255, 0.46)',\n    '--color-dim': 'rgba(255, 255, 255, 0.06)',\n  };\n  const lightTheme: any = {\n    '--padding': '24px',\n\n    '--bg-color': '#edeef5',\n    '--bg-color-accent': '#bbbed9',\n    '--bg-color-accent-2': '#d4d6e7',\n    '--bg-color-secondary': '#c7cae0',\n\n    '--color-primary': 'rgba(0, 0, 0, 1)',\n    '--color-secondary': 'rgba(0, 0, 0, 0.86)',\n    '--color-disabled': 'rgba(0, 0, 0, 0.56)',\n    '--color-dim': 'rgba(53, 57, 95, 0.06)',\n  };\n\n  const themeObject = light ? lightTheme : darkTheme;\n\n  const root = document.querySelector(':root');\n  const themeVariables = Object.keys(themeObject);\n\n  if (root && themeObject) {\n    themeVariables.forEach(themeVar => {\n      const varValue = themeObject[themeVar];\n      if (varValue && themeVar.startsWith('--')) {\n        (root as any).style.setProperty(themeVar, String(varValue));\n      }\n    });\n  }\n};\n\nexport const songTitle = (song: any) => {\n  let title = 'No title';\n  if (song && song.name) {\n    title = song.name;\n  }\n\n  return title.split('.')[0];\n};\n\nexport const getTime = (time: number) => {\n  return time ? new Date(time * 1000).toISOString().substr(14, 5) : '';\n};\n","import { useLayoutEffect, useRef, useState } from 'react';\nimport { getTime } from '../../utils';\nimport './styles.css';\n\ntype SliderProps = {\n  audio?: any;\n  size?: number;\n  value?: number;\n  onChange?: Function;\n  onTouch?: Function;\n  onTouchEnd?: Function;\n  children?: React.ReactNode;\n};\n\nlet prevDeg: number = 0;\n\nconst Slider = ({\n  value = 0,\n  size = 240,\n  children,\n  audio,\n  onChange,\n  onTouch,\n  onTouchEnd,\n}: SliderProps) => {\n  const isTouchDevice =\n    'ontouchstart' in window ||\n    navigator.maxTouchPoints > 0 ||\n    navigator.msMaxTouchPoints > 0;\n\n  const dialRef = useRef(null);\n  const rangeRef = useRef(null);\n  const blockerRef = useRef(null);\n\n  const [canSlide, setCanSlide] = useState(false);\n\n  const getPosition = (e: any) => {\n    const pos = { x: 0, y: 0 };\n\n    if (\n      e.type === 'touchstart' ||\n      e.type === 'touchmove' ||\n      e.type === 'touchend' ||\n      e.type === 'touchcancel'\n    ) {\n      const touch = (e as any).changedTouches[0];\n      pos.x = touch.pageX;\n      pos.y = touch.pageY;\n    } else if (\n      e.type === 'mousedown' ||\n      e.type === 'mouseup' ||\n      e.type === 'mousemove' ||\n      e.type === 'mouseover' ||\n      e.type === 'mouseout' ||\n      e.type === 'mouseenter' ||\n      e.type === 'mouseleave'\n    ) {\n      pos.x = e.pageX;\n      pos.y = e.pageY;\n    }\n\n    return pos;\n  };\n\n  const onSliderInit = (e: any) => {\n    e.preventDefault();\n\n    onTouch && onTouch();\n\n    setCanSlide(true);\n  };\n\n  const onSliderStop = (e: any) => {\n    e.preventDefault();\n\n    onTouchEnd && onTouchEnd();\n\n    setCanSlide(false);\n  };\n\n  const onSliderMove = (e: any) => {\n    if (!canSlide) return;\n\n    let position = getPosition(e);\n    let range: HTMLDivElement = rangeRef.current!;\n\n    const rangeDimensions = range.getBoundingClientRect();\n    const bodyDimensions = document.body.getBoundingClientRect();\n\n    const coords = {\n      x: position.x - (rangeDimensions.x - bodyDimensions.x),\n      y: position.y - (rangeDimensions.y - bodyDimensions.y),\n    };\n\n    const radius = rangeDimensions.width / 2;\n    const atan = Math.atan2(coords.x - radius, coords.y - radius);\n    let deg = Math.ceil(-atan / (Math.PI / 180) + 180);\n\n    let normalizedDeg = deg;\n\n    if (prevDeg <= 90) normalizedDeg = 90;\n    if (prevDeg >= 270) normalizedDeg = 270;\n\n    const points = getPointsFromDeg(normalizedDeg);\n\n    onChange && onChange(points);\n\n    prevDeg = deg;\n  };\n\n  const updateSlider = (deg: number) => {\n    const radius = size / 2;\n    const dial: HTMLDivElement = dialRef.current!;\n    const blocker: HTMLDivElement = blockerRef.current!;\n\n    const diff = (size / 10) * 0.5;\n    const x =\n      Math.floor((radius - diff / 2) * Math.sin((deg * Math.PI) / 180)) +\n      radius;\n    const y =\n      Math.floor((radius - diff / 2) * -Math.cos((deg * Math.PI) / 180)) +\n      radius;\n\n    blocker.style.transform = `rotate(${deg - 270}deg)`;\n\n    dial.style.transform = `translate(${x - diff}px, ${y - diff}px)`;\n  };\n\n  const getPointsFromDeg = (deg: number) =>\n    Math.abs(150 - Math.ceil((deg * 100) / 180));\n\n  const getDegFromPoints = (points: number) =>\n    Math.abs(Math.ceil((points / 100) * 180) - 270);\n\n  useLayoutEffect(() => {\n    updateSlider(getDegFromPoints(value));\n  });\n\n  return (\n    <div\n      ref={rangeRef}\n      className=\"slider\"\n      onMouseUp={e => !isTouchDevice && onSliderStop(e)}\n      onTouchEnd={e => isTouchDevice && onSliderStop(e)}\n      onMouseMove={e => !isTouchDevice && onSliderMove(e)}\n      onTouchMove={e => isTouchDevice && onSliderMove(e)}\n      onMouseDown={e => !isTouchDevice && onSliderInit(e)}\n      onTouchStart={e => isTouchDevice && onSliderInit(e)}\n      style={{ '--size': `${size}px`, '--dial-size': `${size / 10}px` } as any}\n    >\n      <input type=\"range\" min=\"0\" max=\"100\" className=\"slider__range\"></input>\n      <div className=\"slider__track\">\n        <div className=\"slider__blocker\" ref={blockerRef}></div>\n      </div>\n      <div className=\"slider__info\">{children}</div>\n      <div className=\"slider__dial\" tabIndex={0} ref={dialRef}></div>\n      <div className=\"slider__start\"></div>\n      <div className=\"slider__end\"></div>\n      <div className=\"slider__currtime\">\n        {audio && audio.currentTime ? getTime(audio.currentTime) : ''}\n      </div>\n      <div className=\"slider__totaltime\">\n        {audio && audio.duration ? getTime(audio.duration) : ''}\n      </div>\n    </div>\n  );\n};\n\nexport default Slider;\n","import './styles.css';\nimport { FaCog, FaPlus } from 'react-icons/fa';\n\ntype HeaderProps = {\n  size?: number;\n  title?: string;\n  leftIcon?: any;\n  rightIcon?: any;\n  onLeftIconClick?: Function;\n  onRightIconClick?: Function;\n};\n\nconst Header = ({\n  size = 24,\n  title = '',\n  leftIcon,\n  rightIcon,\n  onLeftIconClick,\n  onRightIconClick,\n}: HeaderProps) => {\n  return (\n    <div className=\"header\">\n      {leftIcon !== null && (\n        <div className=\"header__menu__left\">\n          <div\n            className=\"header__icon\"\n            onClick={() => onLeftIconClick && onLeftIconClick()}\n          >\n            {leftIcon || <FaCog size={size} />}\n          </div>\n        </div>\n      )}\n      {leftIcon !== null && <div className=\"header__spacer\"></div>}\n      <div className=\"header__title\">{title}</div>\n      <div className=\"header__spacer\"></div>\n      {rightIcon !== null && (\n        <div className=\"header__menu__right\">\n          <div\n            className=\"header__icon\"\n            onClick={() => onRightIconClick && onRightIconClick()}\n          >\n            {rightIcon || <FaPlus size={size} />}\n          </div>\n        </div>\n      )}\n      {rightIcon === null && <div style={{ width: 64 }}></div>}\n    </div>\n  );\n};\n\nexport default Header;\n","import { useRef, useMemo, useLayoutEffect, useState, useCallback } from 'react';\n\nconst useResize = () => {\n  const [size, setSize] = useState<any>({\n    width: undefined,\n    height: undefined,\n  });\n  const [node, setNode] = useState(null);\n\n  const observer = useRef<any>(null);\n\n  const disconnect = useCallback(() => {\n    const { current } = observer;\n    current && current!.disconnect();\n  }, []);\n\n  const observe = useCallback(() => {\n    observer.current = new ResizeObserver(\n      ([\n        {\n          contentRect: { width, height },\n        },\n      ]) => setSize({ width, height }),\n    );\n    node && observer.current.observe(node);\n  }, [node]);\n\n  useLayoutEffect(() => {\n    observe();\n    return () => disconnect();\n  }, [observe, disconnect]);\n\n  return useMemo(() => [setNode, size], [setNode, size]);\n};\n\nexport default useResize;\n","import { useEffect, useState } from 'react';\n\nconst useDuration = (songs: any[]) => {\n  const [duration, setDuration] = useState<any>({});\n\n  useEffect(() => {\n    (async () => {\n      let data: any = {};\n      const durationPromises = songs.map(song => {\n        const audio = document.createElement('audio');\n        audio.src = URL.createObjectURL(song);\n\n        return new Promise<any>(resolve => {\n          audio.addEventListener(\n            'loadedmetadata',\n            function () {\n              resolve({ [song.name]: audio.duration });\n            },\n            false,\n          );\n        });\n      });\n\n      const durations = await Promise.all(durationPromises);\n\n      durations.forEach(d => {\n        data = { ...data, ...d };\n      });\n\n      setDuration(() => data);\n    })();\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [songs]);\n\n  return duration;\n};\n\nexport default useDuration;\n","export const T_ADD_SONGS = 'ADD_SONGS';\nexport const T_REMOVE_SONGS = 'REMOVE_SONGS';\n\nexport const T_PLAY_SONG = 'PLAY_SONG';\nexport const T_PAUSE_SONG = 'PAUSE_SONG';\nexport const T_RESUME_SONG = 'RESUME_SONG';\n\nexport const T_SET_GRID = 'SET_GRID';\nexport const T_SET_THEME = 'SET_THEME';\nexport const T_SET_REPEAT = 'SET_REPEAT';\nexport const T_SET_VISUALIZER = 'SET_VISUALIZER';\n\nexport const T_SET_VIEW = 'SET_VIEW';\n","import {\n  T_ADD_SONGS,\n  T_PLAY_SONG,\n  T_PAUSE_SONG,\n  T_RESUME_SONG,\n  T_REMOVE_SONGS,\n  T_SET_GRID,\n  T_SET_THEME,\n  T_SET_REPEAT,\n  T_SET_VISUALIZER,\n  T_SET_VIEW,\n} from '../types';\n\nexport const ADD_SONGS = (songs: any) => ({\n  type: T_ADD_SONGS,\n  songs,\n});\n\nexport const DELETE_SONG = (index: any) => ({\n  type: T_REMOVE_SONGS,\n  index,\n});\n\nexport const PLAY_SONG = (index: number) => ({\n  type: T_PLAY_SONG,\n  index,\n});\n\nexport const PAUSE_SONG = () => ({\n  type: T_PAUSE_SONG,\n});\n\nexport const RESUME_SONG = () => ({\n  type: T_RESUME_SONG,\n});\n\nexport const SET_GRID = (value: boolean) => ({\n  type: T_SET_GRID,\n  value,\n});\n\nexport const SET_VISUALIZER = (value: boolean) => ({\n  type: T_SET_VISUALIZER,\n  value,\n});\n\nexport const SET_THEME = (value: boolean) => ({\n  type: T_SET_THEME,\n  value,\n});\n\nexport const SET_REPEAT = (value: string) => ({\n  type: T_SET_REPEAT,\n  value,\n});\n\nexport const SET_VIEW = (value: string) => ({\n  type: T_SET_VIEW,\n  value,\n});\n","import { combineReducers } from 'redux';\n\nimport {\n  appReducer,\n  songReducer,\n  settingsReducer,\n  playStateReducer,\n} from './reducers';\n\nexport const reducers = combineReducers({\n  app: appReducer,\n  songs: songReducer,\n  settings: settingsReducer,\n  playState: playStateReducer,\n});\n\nexport * from './actions';\n","import { T_SET_VIEW } from '../types';\n\nexport const appReducer = (\n  state = {\n    view: 'home',\n  },\n  action: any,\n) => {\n  switch (action.type) {\n    case T_SET_VIEW:\n      return { ...state, view: action.value };\n    default: {\n      return state;\n    }\n  }\n};\n","import { T_ADD_SONGS, T_REMOVE_SONGS } from '../types';\n\nexport const songReducer = (state = [], action: any) => {\n  switch (action.type) {\n    case T_ADD_SONGS: {\n      return [...state, ...action.songs].filter(\n        (song, index, self) =>\n          self.findIndex(s => s.name === song.name) === index,\n      );\n    }\n    case T_REMOVE_SONGS: {\n      return state.filter((_, index) => index !== action.index);\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import {\n  T_SET_GRID,\n  T_SET_THEME,\n  T_SET_REPEAT,\n  T_SET_VISUALIZER,\n} from '../types';\n\nexport const settingsReducer = (\n  state = {\n    visualizer: true,\n    repeat: 'all',\n    light: true,\n    grid: true,\n  },\n  action: any,\n) => {\n  switch (action.type) {\n    case T_SET_GRID:\n      return { ...state, grid: action.value };\n    case T_SET_REPEAT:\n      return { ...state, repeat: action.value };\n    case T_SET_THEME:\n      return { ...state, light: action.value };\n    case T_SET_VISUALIZER:\n      return { ...state, visualizer: action.value };\n    default:\n      return { ...state };\n  }\n};\n","import { T_PLAY_SONG, T_PAUSE_SONG, T_RESUME_SONG } from '../types';\n\nexport const playStateReducer = (\n  state = {\n    playing: false,\n    index: -1,\n  },\n  action: any,\n) => {\n  switch (action.type) {\n    case T_PLAY_SONG: {\n      return { playing: true, index: action.index };\n    }\n    case T_PAUSE_SONG: {\n      return { ...state, playing: false };\n    }\n    case T_RESUME_SONG: {\n      return { ...state, playing: true };\n    }\n    default: {\n      return state;\n    }\n  }\n};\n","import img from '../assets/logo512.png';\n\ndeclare global {\n  interface Window {\n    MediaMetadata: any;\n    jsmediatags: any;\n  }\n}\n\nconst Navigator = window.navigator as any;\n\nconst isMediaSessionSupported = 'mediaSession' in navigator;\n\nexport default class AudioSession {\n  public static addNewSong = async (song: any, callbacks: any) => {\n    try {\n      if (isMediaSessionSupported) {\n        const { next, prev, play, pause } = callbacks;\n\n        const meta = await AudioSession.getMetadata(song);\n\n        const { title, year, artist, album } = meta.tags ?? {};\n\n        const picture = AudioSession.getPicture(meta);\n\n        Navigator.mediaSession.metadata = new window.MediaMetadata({\n          title: title ?? song.name,\n          artist: artist ?? 'Unknown',\n          album: album ?? 'Unknown',\n          year: year,\n          artwork: [\n            {\n              src: picture,\n              sizes: '96x96',\n              type: 'image/png',\n            },\n            {\n              src: picture,\n              sizes: '128x128',\n              type: 'image/png',\n            },\n            {\n              src: picture,\n              sizes: '192x192',\n              type: 'image/png',\n            },\n            {\n              src: picture,\n              sizes: '256x256',\n              type: 'image/png',\n            },\n            {\n              src: picture,\n              sizes: '384x384',\n              type: 'image/png',\n            },\n            {\n              src: picture,\n              sizes: '512x512',\n              type: 'image/png',\n            },\n          ],\n        });\n\n        Navigator.mediaSession.setActionHandler('previoustrack', prev);\n\n        Navigator.mediaSession.setActionHandler('nexttrack', next);\n\n        Navigator.mediaSession.setActionHandler('play', play);\n\n        Navigator.mediaSession.setActionHandler('pause', pause);\n\n        Navigator.mediaSession.setActionHandler('stop', pause);\n      }\n    } catch (error) {\n      console.error(error.message);\n    }\n  };\n\n  public static updatePositionState(audioEl: HTMLAudioElement) {\n    Navigator.mediaSession.setPositionState({\n      duration: audioEl.duration,\n      position: audioEl.currentTime,\n      playbackRate: audioEl.playbackRate,\n    });\n  }\n\n  static getMetadata = (song: Blob) =>\n    new Promise<any>(resolve => {\n      window.jsmediatags.read(song, {\n        onSuccess: function (tag: any) {\n          resolve(tag);\n        },\n        onError: function (error: any) {\n          console.log(error);\n          resolve({});\n        },\n      });\n    });\n\n  static getPicture = (meta: any) => {\n    if (meta !== null) {\n      const { picture: { data = undefined, format = undefined } = {} } =\n        meta.tags ?? {};\n\n      if (data && format) {\n        let TYPED_ARRAY: any = new Uint8Array(data);\n        const STRING_CHAR = TYPED_ARRAY.reduce((data: any, byte: any) => {\n          return data + String.fromCharCode(byte);\n        }, '');\n        let base64String = btoa(STRING_CHAR);\n        let imgurl = `data:${format};base64,${base64String}`;\n\n        return imgurl;\n      }\n    }\n\n    return img;\n  };\n}\n","export default \"data:image/png;base64,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\"","import { useState } from 'react';\nimport { FaSearch } from 'react-icons/fa';\nimport './styles.css';\n\ntype InputProps = {\n  type?: string;\n  onChange?: Function;\n  placeholder?: string;\n};\n\nconst Input = ({\n  onChange,\n  type = 'text',\n  placeholder = 'Search...',\n}: InputProps) => {\n  const [inFocus, setFocus] = useState(false);\n  return (\n    <div\n      className={`input__wrapper ${\n        inFocus ? 'input__wrapper--focus' : ''\n      }`.trim()}\n    >\n      <input\n        type={type}\n        placeholder={placeholder}\n        onFocus={() => setFocus(true)}\n        onBlur={() => setFocus(false)}\n        onChange={e => onChange && onChange(e.target.value)}\n      />\n      <div className=\"input__icon\">\n        <FaSearch size={24} />\n      </div>\n    </div>\n  );\n};\n\nexport default Input;\n","import Input from '../../components/input';\nimport './styles.css';\n\ntype HomeProps = {\n  onSearch?: Function;\n  showSearch: boolean;\n  playlist: React.ReactNode;\n};\n\nconst Home = ({ onSearch, showSearch, playlist }: HomeProps) => {\n  return (\n    <div className=\"home\">\n      {showSearch && (\n        <div className=\"home__input\">\n          <Input\n            type=\"search\"\n            placeholder=\"Search\"\n            onChange={(e: string) => onSearch && onSearch(e)}\n          />\n        </div>\n      )}\n      {playlist}\n    </div>\n  );\n};\n\nexport default Home;\n","import { FaPlus } from 'react-icons/fa';\nimport { MdCheckBox, MdCheckBoxOutlineBlank } from 'react-icons/md';\nimport { useDispatch, useSelector } from 'react-redux';\n\nimport { Header } from '../../components';\nimport { SET_GRID, SET_THEME, SET_VISUALIZER } from '../../redux/actions';\nimport './styles.css';\n\ntype MenuProps = {\n  show: boolean;\n  onClose: Function;\n};\n\nconst Menu = ({ show, onClose }: MenuProps) => {\n  const dispatch = useDispatch();\n\n  const settings = useSelector((state: any) => state.settings);\n\n  const menuMeta = [\n    {\n      id: 1,\n      key: 'grid',\n      name: 'Grid style song list',\n      onClick: () => dispatch(SET_GRID(!settings.grid)),\n    },\n    {\n      id: 2,\n      key: 'visualizer',\n      name: 'Show visualizer',\n      onClick: () => dispatch(SET_VISUALIZER(!settings.visualizer)),\n    },\n    {\n      id: 3,\n      key: 'light',\n      name: 'Light theme',\n      onClick: () => dispatch(SET_THEME(!settings.light)),\n    },\n  ];\n\n  return (\n    <div className={`menu ${show ? 'menu--show' : ''}`.trim()}>\n      <Header\n        title={'Settings'}\n        leftIcon={null}\n        rightIcon={\n          <div style={{ transform: 'rotate(45deg) translateY(2px)' }}>\n            <FaPlus size={24} />\n          </div>\n        }\n        onRightIconClick={() => onClose && onClose()}\n      />\n      <div className=\"menu__content\">\n        {menuMeta.map(({ id, key, name, onClick }) => (\n          <div\n            key={id}\n            title={name}\n            onClick={() => onClick()}\n            className={`menu__item`}\n          >\n            <div className=\"menu__item__name\">{name}</div>\n            <div className=\"menu__item--spacer\"> </div>\n            {settings[key] ? (\n              <MdCheckBox size={24} />\n            ) : (\n              <MdCheckBoxOutlineBlank size={24} />\n            )}\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n};\n\nexport default Menu;\n","const Navigator = window.navigator as any;\n\nconst isVibrateSupported = 'vibrate' in navigator;\n\nexport default class Vibrate {\n  public static do = (value: number = 10): boolean => {\n    if (isVibrateSupported) {\n      Navigator.vibrate([]);\n\n      return Navigator.vibrate([value]);\n    }\n\n    return false;\n  };\n}\n","import { FaPlay, FaPause } from 'react-icons/fa';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { useLayoutEffect, useRef, useState } from 'react';\nimport { BsFillSkipBackwardFill, BsFillSkipForwardFill } from 'react-icons/bs';\nimport { RiShuffleFill, RiRepeat2Fill, RiRepeatOneFill } from 'react-icons/ri';\n\nimport AudioSession from '../../services/audio-session';\nimport { Button, Slider, Visualizer } from '../../components';\nimport { SET_REPEAT } from '../../redux';\nimport { songTitle } from '../../utils';\nimport './styles.css';\nimport Vibrate from '../../services/vibrate';\n\ntype TrackProps = {\n  song?: any;\n  size?: any;\n  range?: any;\n  audio?: any;\n  playing: boolean;\n  onNext?: Function;\n  onPrev?: Function;\n  onPlay?: Function;\n  onPause?: Function;\n  onError?: Function;\n  onChange?: Function;\n  onShuffle?: Function;\n  visualizer?: React.ReactNode;\n};\n\nconst Track = ({\n  song,\n  size,\n  range,\n  audio,\n  playing,\n  onNext,\n  onPrev,\n  onPlay,\n  onError,\n  onPause,\n  onChange,\n  onShuffle,\n}: TrackProps) => {\n  const settings = useSelector((state: any) => state.settings);\n\n  const [meta, setMeta] = useState<any>(null);\n  const [width, setWidth] = useState<any>({\n    scroll: '100%',\n    client: '100%',\n  });\n\n  const titleRef = useRef<any>(null);\n\n  const dispatch = useDispatch();\n\n  const color = settings.light ? 'black' : 'white';\n\n  const { tags = {} } = meta || {};\n\n  const title = tags.title ?? songTitle(song);\n  const artist = tags.artist ?? 'Unknown Artist';\n  const picture = AudioSession.getPicture(meta);\n\n  const handleRepeat = () => {\n    const data: any = { all: 'one', one: 'none', none: 'all' };\n    dispatch(SET_REPEAT(data[settings.repeat] ?? 'all'));\n  };\n\n  const handleClick = (callback: Function) => {\n    Vibrate.do();\n\n    callback();\n  };\n\n  useLayoutEffect(() => {\n    if (titleRef.current !== null) {\n      setWidth({\n        scroll: titleRef.current!.scrollWidth,\n        client: titleRef.current!.clientWidth,\n      });\n    }\n\n    (async () => {\n      if (song) {\n        const meta = await AudioSession.getMetadata(song);\n\n        setMeta(meta);\n      }\n    })();\n  }, [song, title]);\n\n  return (\n    <div className=\"track\">\n      <Slider\n        value={range}\n        audio={audio}\n        onTouch={() => onPause && onPause()}\n        onTouchEnd={() => onPlay && onPlay()}\n        onChange={(v: number) => onChange && onChange(v)}\n      >\n        <div className=\"track__slider__img\">\n          <img alt={title} src={picture} />\n        </div>\n      </Slider>\n      <div className=\"track__content\">\n        <div className=\"track__details\">\n          <h1\n            ref={titleRef}\n            style={\n              {\n                '--scroll-width': `${width.scroll}px`,\n                '--client-width': `${width.client}px`,\n              } as React.CSSProperties\n            }\n            className={width.scroll > width.client ? 'overflowed' : ''}\n          >\n            {title}\n          </h1>\n          <p>{artist}</p>\n        </div>\n        <div className=\"track__controls\">\n          <div\n            className=\"track__controls__btn\"\n            onClick={() => handleClick(() => onShuffle && onShuffle())}\n          >\n            <RiShuffleFill size={24} color={color} />\n          </div>\n          <div\n            className=\"track__controls__btn\"\n            onClick={() => handleClick(() => onPrev && onPrev())}\n          >\n            <BsFillSkipBackwardFill size={28} color={color} />\n          </div>\n          <div className=\"track__controls__btn\">\n            <Button\n              size={64}\n              active={playing}\n              onClick={() =>\n                handleClick(() =>\n                  playing ? onPause && onPause() : onPlay && onPlay(),\n                )\n              }\n            >\n              {playing ? <FaPause size={22} /> : <FaPlay size={22} />}\n            </Button>\n          </div>\n          <div\n            className=\"track__controls__btn\"\n            onClick={() => handleClick(() => onNext && onNext())}\n          >\n            <BsFillSkipForwardFill size={28} color={color} />\n          </div>\n          <div\n            className=\"track__controls__btn\"\n            onClick={() => handleClick(() => handleRepeat())}\n          >\n            {settings.repeat === 'one' ? (\n              <RiRepeatOneFill size={24} color={color} />\n            ) : (\n              <>\n                {settings.repeat === 'none' && (\n                  <div className=\"track__controls__cross\"></div>\n                )}\n                <RiRepeat2Fill size={24} color={color} />\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      {settings.visualizer && (\n        <Visualizer\n          app\n          audio={audio}\n          playing={playing}\n          width={size.width}\n          className={'track__visualizer'}\n          onError={() => onError && onError()}\n        />\n      )}\n    </div>\n  );\n};\n\nexport default Track;\n","import './styles.css';\nimport { FaPause, FaPlay, FaTrash } from 'react-icons/fa';\n\nimport { useDuration } from '../../hooks';\nimport { getTime } from '../../utils';\n\ntype PlaylistProps = {\n  songs: any[];\n  filteredSongs: any[];\n  grid?: boolean;\n  playState?: any;\n  onClick?: Function;\n  onDelete?: Function;\n};\n\nconst Playlist = ({\n  songs,\n  onClick,\n  onDelete,\n  grid = false,\n  filteredSongs,\n  playState = {},\n}: PlaylistProps) => {\n  const { index, playing } = playState;\n\n  const duration = useDuration(songs);\n\n  const getDuration = (name: string) => {\n    return duration[name] ? getTime(duration[name]) : '';\n  };\n\n  const isSelected = (name: string) => {\n    if (!songs[index]) {\n      return false;\n    }\n    return songs[index].name.toLowerCase() === name.toLowerCase();\n  };\n\n  const getIndex = (name: string) => {\n    return songs.findIndex(s => s.name.toLowerCase() === name.toLowerCase());\n  };\n\n  return (\n    <div\n      className={`playlist ${grid ? 'playlist--grid' : ''} ${\n        index > -1 ? 'playlist--bottom-padded' : ''\n      }`.trim()}\n    >\n      {filteredSongs.map(({ name }: any, i: number) => (\n        <div\n          key={i}\n          className={`playlist__item ${\n            isSelected(name) ? 'playlist__item--selected' : ''\n          }`}\n        >\n          {grid && (\n            <>\n              <div title={name} className=\"playlist__name\">\n                {name}\n              </div>\n              <div className=\"playlist__duration\">{getDuration(name)}</div>\n            </>\n          )}\n          <div\n            className=\"playlist__icon\"\n            onClick={() => onClick && onClick(getIndex(name))}\n          >\n            {isSelected(name) && playing ? (\n              <FaPause size={18} />\n            ) : (\n              <FaPlay size={18} />\n            )}\n          </div>\n          {!grid && (\n            <>\n              <div title={name} className=\"playlist__name\">\n                {name}\n              </div>\n              <div style={{ flexGrow: 1 }}></div>\n              <div className=\"playlist__duration\">{getDuration(name)}</div>\n            </>\n          )}\n          <div\n            className=\"playlist__icon playlist__icon--right\"\n            onClick={() => onDelete && onDelete(getIndex(name))}\n          >\n            <FaTrash size={18} />\n          </div>\n        </div>\n      ))}\n    </div>\n  );\n};\n\nexport default Playlist;\n","import { useSelector } from 'react-redux';\nimport { BsMusicNote } from 'react-icons/bs';\nimport { FaPause, FaPlay } from 'react-icons/fa';\n\nimport { Button, Visualizer } from '../../components';\nimport './styles.css';\n\ntype NowPlayingProps = {\n  song?: any;\n  size?: any;\n  audio?: any;\n  open?: boolean;\n  width?: number;\n  playing: boolean;\n  onPlay?: Function;\n  onPause?: Function;\n  onClick?: Function;\n  onError?: Function;\n  percent?: number;\n};\n\nconst NowPlaying = ({\n  song,\n  size,\n  audio,\n  onPlay,\n  onPause,\n  onClick,\n  onError,\n  percent,\n  playing,\n  open = true,\n  width = 300,\n}: NowPlayingProps) => {\n  const settings = useSelector((state: any) => state.settings);\n\n  const songTitle = () => {\n    let title = 'No title';\n    if (song && song.name) {\n      title = song.name;\n    }\n\n    return title.split('.')[0];\n  };\n\n  return (\n    <div className={`nowplaying ${open ? 'nowplaying--open' : ''}`.trim()}>\n      <div style={{ width }} className=\"nowplaying__container\">\n        <div\n          onClick={() => onClick && onClick()}\n          className=\"nowplaying__title__wrapper\"\n        >\n          <div className=\"nowplaying__icon\">\n            <BsMusicNote size={32} />\n          </div>\n          <div title={songTitle()} className=\"nowplaying__title\">\n            {songTitle()}\n          </div>\n        </div>\n        <div className=\"nowplaying__button\">\n          <Button\n            onClick={() =>\n              playing ? onPause && onPause() : onPlay && onPlay()\n            }\n          >\n            {playing ? <FaPause size={18} /> : <FaPlay size={18} />}\n          </Button>\n        </div>\n\n        <div\n          style={{ width: `${100 - Number(percent)}%` }}\n          className=\"nowplaying__progress\"\n        ></div>\n        <div className=\"nowplaying__progress__placeholder\"></div>\n        <div className=\"nowplaying__visualizer\">\n          {settings.visualizer && (\n            <Visualizer\n              short={10}\n              audio={audio}\n              playing={playing}\n              width={size.width}\n              onError={() => onError && onError()}\n            />\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default NowPlaying;\n","import { useCallback, useEffect, useRef, useState, useMemo } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { FaChevronLeft } from 'react-icons/fa';\n\nimport { Header, Empty } from '../components';\nimport { useResize } from '../hooks';\n\nimport {\n  ADD_SONGS,\n  PLAY_SONG,\n  PAUSE_SONG,\n  RESUME_SONG,\n  DELETE_SONG,\n  SET_VIEW,\n} from '../redux';\n\nimport AudioSession from '../services/audio-session';\nimport { Track, Menu, Home, NowPlaying, Playlist } from '../views';\nimport { setTheme } from '../utils';\nimport './styles.css';\n\nfunction App() {\n  const prevPlayState = useRef({ playing: false, index: -1 });\n\n  const [ref, size] = useResize();\n\n  const input = useRef(null);\n  const audio = useRef(null);\n  const dispatch = useDispatch();\n\n  const { view } = useSelector((state: any) => state.app);\n  const songs = useSelector((state: any) => state.songs);\n  const settings = useSelector((state: any) => state.settings);\n  const playState = useSelector((state: any) => state.playState);\n\n  const [range, setRange] = useState(0);\n  const [showMenu, setShowMenu] = useState(false);\n  const [searchText, setSearchText] = useState('');\n\n  useMemo(() => setTheme(settings.light), [settings.light]);\n\n  const filteredSongs = useCallback(() => {\n    if (!searchText) {\n      return songs;\n    } else {\n      return songs.filter((s: any) =>\n        s.name.toLowerCase().includes(searchText.toLowerCase()),\n      );\n    }\n  }, [searchText, songs]);\n\n  const isSongsThere = () => !!songs.length;\n\n  const audioPlayer = (): HTMLAudioElement => audio.current!;\n\n  const play = async () => {\n    if (audio.current) {\n      try {\n        await audioPlayer().play();\n      } catch (error) {\n        console.trace(error);\n      }\n    }\n  };\n\n  const pause = () => {\n    if (audio.current) {\n      audioPlayer().pause();\n    }\n  };\n\n  const start = async (index: number) => {\n    try {\n      if (audio.current && songs[index]) {\n        const htmlAudio: HTMLAudioElement = audioPlayer();\n        htmlAudio.src = URL.createObjectURL(songs[index]);\n\n        await htmlAudio.play();\n\n        AudioSession.addNewSong(songs[index], {\n          next: () => nextSong(true),\n          prev: () => prevSong(true),\n          play: () => resumeSong(),\n          pause: () => pauseSong(),\n          stop: () => pauseSong(),\n        });\n      }\n    } catch (error) {\n      dispatch(PLAY_SONG(0));\n    }\n  };\n\n  const stop = () => {\n    const htmlAudio: HTMLAudioElement = audioPlayer();\n    htmlAudio.src = '';\n  };\n\n  const shuffleSong = () => {\n    if (isSongsThere()) {\n      dispatch(PLAY_SONG(Math.floor(Math.random() * songs.length)));\n    }\n  };\n\n  const nextSong = (override: boolean = false) => {\n    if (isSongsThere()) {\n      pauseSong();\n\n      const goNext = () =>\n        dispatch(PLAY_SONG((playState.index + 1) % songs.length));\n\n      setTimeout(() => {\n        if (override) {\n          goNext();\n          return;\n        }\n\n        if (settings.repeat === 'one') {\n          resumeSong();\n        } else if (settings.repeat === 'all') {\n          goNext();\n        } else {\n          if (playState.index + 1 !== songs.length) {\n            goNext();\n          }\n        }\n      }, 100);\n    }\n  };\n\n  const prevSong = (override: boolean = false) => {\n    if (isSongsThere()) {\n      pauseSong();\n\n      setTimeout(() => {\n        if (settings.repeat === 'one' && !override) {\n          resumeSong();\n        } else {\n          const prevIndex = playState.index - 1;\n          const index = prevIndex < 0 ? songs.length - 1 : prevIndex;\n          dispatch(PLAY_SONG(index));\n        }\n      }, 100);\n    }\n  };\n\n  const pauseSong = () => {\n    if (isSongsThere()) {\n      dispatch(PAUSE_SONG());\n    }\n  };\n\n  const resumeSong = () => {\n    if (isSongsThere()) {\n      dispatch(RESUME_SONG());\n    }\n  };\n\n  const handleSongEnd = () => {\n    if (isSongsThere()) {\n      nextSong();\n    }\n  };\n\n  const deleteSong = (index: number) => {\n    if (index === playState.index) {\n      dispatch(PLAY_SONG(-2));\n    }\n\n    setTimeout(() => {\n      dispatch(DELETE_SONG(index));\n    }, 100);\n  };\n\n  useEffect(() => {\n    if (\n      JSON.stringify(prevPlayState.current) !== JSON.stringify(playState) &&\n      isSongsThere()\n    ) {\n      const { playing, index } = playState;\n      const { index: prevIndex } = prevPlayState.current;\n\n      if (!playing) {\n        pause();\n      } else if (index === -1) {\n        dispatch(PLAY_SONG(0));\n      } else if (index === prevIndex) {\n        play();\n      } else if (index === -2) {\n        stop();\n      } else {\n        start(index);\n      }\n    }\n\n    prevPlayState.current = playState;\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [playState]);\n\n  const updateTime = () => {\n    const currentTime =\n      (100 * audioPlayer().currentTime) / audioPlayer().duration || 0;\n\n    setRange(Math.round(currentTime));\n  };\n  // eslint-disable-next-line\n  const timeDrag = (time: number) => {\n    const range = audioPlayer().duration * (time / 100);\n    if (!isNaN(range)) {\n      audioPlayer().currentTime = range;\n    }\n  };\n\n  const addSongs = () => {\n    if (input.current) {\n      const filePicker: HTMLInputElement = input.current!;\n      filePicker.click();\n    }\n  };\n\n  return (\n    <div ref={ref} className=\"app__wrapper\">\n      <div className=\"app__container\">\n        {view === 'home' ? (\n          <Header\n            title=\"playlist\"\n            onRightIconClick={() => addSongs()}\n            onLeftIconClick={() => setShowMenu(!showMenu)}\n          />\n        ) : (\n          <Header\n            title=\"Track\"\n            rightIcon={null}\n            leftIcon={\n              <div style={{ transform: 'translateX(-2px)' }}>\n                <FaChevronLeft size={24} />\n              </div>\n            }\n            onLeftIconClick={() => dispatch(SET_VIEW('home'))}\n          />\n        )}\n        <Menu show={showMenu} onClose={() => setShowMenu(false)} />\n\n        {view === 'home' && (\n          <Home\n            showSearch={true}\n            onSearch={(e: string) => setSearchText(e)}\n            playlist={\n              filteredSongs().length === 0 ? (\n                <Empty\n                  message=\"No songs found\"\n                  description={\n                    searchText && songs.length > 0\n                      ? 'To widen your search, change or remove keyword'\n                      : 'When you are ready, go ahead and add few songs'\n                  }\n                />\n              ) : (\n                <Playlist\n                  songs={songs}\n                  grid={settings.grid}\n                  playState={playState}\n                  filteredSongs={filteredSongs()}\n                  onDelete={(index: number) => deleteSong(index)}\n                  onClick={(index: number) =>\n                    index === playState.index\n                      ? playState.playing\n                        ? pauseSong()\n                        : resumeSong()\n                      : dispatch(PLAY_SONG(index))\n                  }\n                />\n              )\n            }\n          />\n        )}\n        {view === 'track' && (\n          <Track\n            size={size}\n            range={range}\n            audio={audioPlayer()}\n            playing={playState.playing}\n            onPlay={() => resumeSong()}\n            onPause={() => pauseSong()}\n            onNext={() => nextSong(true)}\n            onPrev={() => prevSong(true)}\n            onShuffle={() => shuffleSong()}\n            song={songs[playState.index]}\n            onChange={(v: number) => timeDrag(v)}\n          />\n        )}\n\n        <div className=\"app__content\">\n          <input\n            hidden\n            multiple\n            type=\"file\"\n            ref={input}\n            accept=\"audio/mp3,audio/wav,audio/ogg\"\n            onChange={e => dispatch(ADD_SONGS(e.target.files))}\n          />\n          <audio\n            hidden\n            controls\n            ref={audio}\n            onEnded={() => handleSongEnd()}\n            onTimeUpdate={() => updateTime()}\n          ></audio>\n        </div>\n        <NowPlaying\n          size={size}\n          percent={range}\n          width={size.width}\n          audio={audioPlayer()}\n          playing={playState.playing}\n          song={songs[playState.index]}\n          onPlay={() => resumeSong()}\n          onPause={() => pauseSong()}\n          onClick={() => dispatch(SET_VIEW('track'))}\n          open={view === 'home' && playState.index > -1}\n        />\n      </div>\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://cra.link/PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(/^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/)\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://cra.link/PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://cra.link/PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log('No internet connection found. App is running in offline mode.');\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then((registration) => {\n        registration.unregister();\n      })\n      .catch((error) => {\n        console.error(error.message);\n      });\n  }\n}\n","import localforage from 'localforage';\n\nlocalforage.config({\n  name: 'Music PWA',\n  storeName: 'db',\n});\n\nexport default class DataStore {\n  public static set = (key: string, value: any, callback?: any) => {\n    return localforage.setItem(key, value, callback);\n  };\n\n  public static get = (key: string, callback?: any) => {\n    return localforage.getItem(key, callback);\n  };\n\n  public static delete = (key: string, callback?: any) => {\n    return localforage.removeItem(key, callback);\n  };\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\nimport { createStore } from 'redux';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from './app';\nimport reportWebVitals from './reportWebVitals';\nimport * as serviceWorkerRegistration from './serviceWorkerRegistration';\n\nimport { reducers } from './redux';\nimport DataStore from './services/data-store';\n\nconst WINDOW = window as any;\n\n(async () => {\n  try {\n    let localStore: any = await DataStore.get('state');\n\n    if (localStore === null) {\n      localStore = undefined;\n    }\n\n    const store = createStore(\n      reducers,\n      localStore,\n      WINDOW.__REDUX_DEVTOOLS_EXTENSION__ &&\n        WINDOW.__REDUX_DEVTOOLS_EXTENSION__(),\n    );\n\n    store.subscribe(() => {\n      DataStore.set('state', {\n        songs: store.getState().songs,\n        settings: store.getState().settings,\n      });\n    });\n\n    ReactDOM.render(\n      <React.StrictMode>\n        <Provider store={store}>\n          <App />\n        </Provider>\n      </React.StrictMode>,\n      document.getElementById('root'),\n    );\n  } catch (error) {}\n})();\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://cra.link/PWA\nserviceWorkerRegistration.register();\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}